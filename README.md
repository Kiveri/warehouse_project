
---

# CRUD-приложение на Go для управления сущностями

Простое CRUD-приложение на языке Go (Golang), которое позволяет управлять сущностями: **Клиент**, **Сотрудник**, **Позиция** и **Заказ**. Приложение поддерживает создание, чтение, обновление и удаление (CRUD) для каждой из этих сущностей.

## Описание

Этот проект представляет собой REST API, которое позволяет:
- Создавать, читать, обновлять и удалять записи для сущностей:
    - **Клиент** (Client)
    - **Сотрудник** (Employee)
    - **Позиция** (Position)
    - **Заказ** (Order)
- Хранить данные в базе данных PostgreSQL.
- Использовать простой и понятный API для интеграции с другими сервисами.

### Основные функции:
- CRUD-операции для всех сущностей.
- Валидация данных.
- Простая и модульная структура проекта.

## Установка и запуск

### Требования
- Установленный Go (версия 1.20 или выше).
- Docker для запуска в контейнере.

### Запуск проекта

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Kiveri/warehouse_project
   cd warehouse_project
   ```

2. Установите зависимости:
   ```bash
   go mod download
   ```

3. Запустите сервер:
   ```bash
   go run main.go
   ```

4. Сервер будет доступен по адресу: `http://localhost:8080`.

### Запуск с помощью Docker
1. Соберите Docker-образ:
   ```bash
   docker build -t warehouse_project .
   ```

2. Запустите контейнер:
   ```bash
   docker run -p 8080:8080 warehouse_project
   ```

## Использование

### API

#### Клиент (Client)
- **Создание клиента:**
    - **Метод:** `POST`
    - **URL:** `/clients`
    - **Тело запроса:**
      ```json
      {
          "name": "Иван Иванов",
          "phone": "+1234567890",
          "email": "ivan@example.com",
          "home_address": "spb"
      }
      ```

- **Получение клиента по ID:**
    - **Метод:** `GET`
    - **URL:** `/clients/{id}`

- **Обновление адреса клиента:**
    - **Метод:** `PUT`
    - **URL:** `/clients/{id}`
    - **Тело запроса:**
      ```json
      {
          "home_address": "msk"
      }
      ```

- **Удаление клиента:**
    - **Метод:** `DELETE`
    - **URL:** `/clients/{id}`

#### Сотрудник (Employee)
- **Создание сотрудника:**
    - **Метод:** `POST`
    - **URL:** `/employees`
    - **Тело запроса:**
      ```json
      {
          "name": "Алексей Смирнов",
          "phone": "+1234567890",
          "email": "leha@example.com",
          "role": 3
      }
      ```
      **Роли сотрудников (`"role"`):**
    - `1` - **Specialist**
    - `2` - **Leader**
    - `3` - **Manager**


- **Получение сотрудника по ID:**
    - **Метод:** `GET`
    - **URL:** `/employees/{id}`
  

- **Обновление роли сотрудника:**
    - **Метод:** `PUT`
    - **URL:** `/employees/{id}`
    - **Тело запроса:**
    ```json
    {
        "role": 2
    }
    ```

- **Удаление сотрудника:**
    - **Метод:** `DELETE`
    - **URL:** `/employees/{id}`

#### Позиция (Position)
- **Создание позиции:**
    - **Метод:** `POST`
    - **URL:** `/positions`
    - **Тело запроса:**
      ```json
      {
          "name": "position",
          "barcode": "0001",
          "price": 760,
          "position_type": 2
      }
      ```

      **Тип позиции (`"position_type"`):**
  - `1` - **BasicProduct**
  - `2` - **BasicConsumable**
  - `3` - **Liquid**
  - `4` - **OversizeProduct**


- **Получение позиции по ID:**
    - **Метод:** `GET`
    - **URL:** `/positions/{id}`


- **Обновление цены позиции:**
    - **Метод:** `PUT`
    - **URL:** `/positions/{id}`
    - **Тело запроса:**
    ```json
    {
        "price": 560
    }
    ```

- **Удаление позиции:**
    - **Метод:** `DELETE`
    - **URL:** `/positions/{id}`

#### Заказ (Order)
- **Создание заказа:**
    - **Метод:** `POST`
    - **URL:** `/orders`
    - **Тело запроса:**
      ```json
      {
          "position_ids": [1,1,2,2,3],
          "employee_id": 1,
          "client_id": 1,
          "status": 1,
          "delivery_type": 2
      }
      ```

      **Статус заказа (`"status"`):**
  - `1` - **Created**
  - `2` - **Building**
  - `3` - **Delivering**
  - `4` - **Delivered**

    **Тип доставки (`"delivery_type"`):**
  - `1` - **CourierDelivery**
  - `2` - **SelfDelivery**
  - `3` - **PointOfDelivery**

  
  **При создании заказа указывать статус `1` - **Created****


- **Получение заказа по ID:**
    - **Метод:** `GET`
    - **URL:** `/orders/{id}`


- **Обновление статуса заказа:**
    - **Метод:** `PUT`
    - **URL:** `/orders/{id}`
    - **Тело запроса:**
    ```json
    {
        "status": 2
    }
    ```

- **Удаление заказа:**
    - **Метод:** `DELETE`
    - **URL:** `/orders/{id}`

